"use strict";(function(wp,$){"use strict";if(!wp){return}var __=wp.i18n.__;var wsvAdmin={cache:function cache(){this.vars={};this.els={};this.els.$startDate=$(".woo-store-vacation-start-datepicker");this.els.$endDate=$(".woo-store-vacation-end-datepicker");this.els.$txtColor=$(".woo-store-vacation-text-color-field");this.els.$bgColor=$(".woo-store-vacation-background-color-field")},init:function init(){this.cache();this.colorPickers();this.datePickers();this.events()},events:function events(){$(document.body).on("click",this.vars.upsell,this.handleOnDismiss)},colorPickers:function colorPickers(){this.els.$txtColor.wpColorPicker();this.els.$bgColor.wpColorPicker()},datePickers:function datePickers(){this.addDeleteButtonDatepicker();this.els.$startDate.datepicker({changeMonth:true,showButtonPanel:true,dateFormat:"yy-mm-dd",onClose:function onClose(selectedDate){var minDate=new Date(Date.parse(selectedDate));minDate.setDate(minDate.getDate()+1);wsvAdmin.els.$endDate.datepicker("option","minDate",minDate)}});this.els.$endDate.datepicker({minDate:"+1D",changeMonth:true,showButtonPanel:true,dateFormat:"yy-mm-dd",onClose:function onClose(selectedDate){var maxDate=new Date(Date.parse(selectedDate));maxDate.setDate(maxDate.getDate()-1);wsvAdmin.els.$startDate.datepicker("option","maxDate",maxDate)}});var oldGoToToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(id){oldGoToToday.call(this,id);this._selectDate(id)}},addDeleteButtonDatepicker:function addDeleteButtonDatepicker(){var oldFn=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(inst){oldFn.call(this,inst);var buttonPane=$(this).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button type=\"button\" class=\"ui-datepicker-clean ui-state-default ui-priority-primary ui-corner-all\">\n\t\t\t\t\t\t".concat(__("Delete","woo-store-vacation"),"\n\t\t\t\t\t</button>")).appendTo(buttonPane).on("click",function(){$.datepicker._clearDate(inst.input)})}}};wsvAdmin.init()})(window.wp,jQuery);